<!doctype html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>ChatGPT - PCGE</title>
  <style>
    :root{
      --azul-escuro:#083050;
      --laranja:#F6871F;
      --azul-petroleo:#006F8A;
      --cinza:#6D6E71;
      --bg:#f9fafb;
      --bubble-bot:#eef2f7;
      --bubble-user:#006F8A;
    }

    *{box-sizing:border-box}
    body{
      margin:0;background:var(--bg);color:#222;
      font-family:system-ui,-apple-system,"Segoe UI",Roboto,Arial;
      display:flex;flex-direction:column;min-height:100vh
    }
    a{color:var(--laranja)}

    .container{max-width:1000px;margin:0 auto;padding:0 16px}

    /* HEADER */
    header.header{
      background:var(--azul-escuro);color:#fff;
      box-shadow:0 4px 18px rgba(0,0,0,.14);
    }
    .header-inner{
      display:flex;align-items:center;justify-content:center;
      gap:16px;padding:14px 0;
    }
    .logo{
      height:64px;width:auto;display:block;flex:0 0 auto;
    }
    .brand{
      text-align:left;line-height:1.2
    }
    .brand h1{
      margin:0;font-size:26px;font-weight:800;
      letter-spacing:.2px
    }
    .brand p{
      margin:2px 0 0 0;font-size:16px;opacity:.9
    }

    /* HERO */
    .hero{
      background:linear-gradient(135deg,#083050 0%,#006F8A 60%,#0a7aa6 100%);
      color:#fff;border-radius:14px;padding:22px;margin:18px 0;
      box-shadow:0 10px 28px rgba(0,0,0,.10);text-align:center
    }
    .hero h2{margin:0 0 6px;font-size:24px}
    .hero p{margin:0;font-size:16px;opacity:.97}

    /* CHAT */
    .card{background:#fff;border-radius:14px;box-shadow:0 10px 28px rgba(0,0,0,.06);padding:16px}
    #chat{
      height:480px;overflow:auto;padding:10px;border:1px solid #e5e7eb;
      border-radius:12px;background:#fff
    }
    .message{max-width:80%;padding:10px 12px;border-radius:12px;margin:8px 0;line-height:1.45;font-size:15px}
    .user{background:var(--bubble-user);color:#fff;margin-left:auto;border-top-right-radius:4px}
    .bot{background:var(--bubble-bot);color:#111827;margin-right:auto;border-top-left-radius:4px}
    .typing{font-size:12px;color:#6b7280;margin:6px 4px;display:none}

    .inputbar{display:flex;gap:8px;margin-top:12px}
    .inputbar input{
      flex:1;padding:12px;border:1px solid #e5e7eb;border-radius:10px;outline:none
    }
    .inputbar button{
      padding:12px 18px;border:none;border-radius:10px;background:var(--laranja);color:#fff;cursor:pointer;font-weight:600
    }
    .inputbar button:hover{background:#d46f0f}

    footer{
      margin-top:auto;background:var(--azul-escuro);color:#fff;text-align:center;
      padding:14px;font-size:12px
    }

    /* RESPONSIVO */
    @media (max-width:700px){
      .header-inner{flex-direction:column;gap:8px;padding:12px 0}
      .logo{height:48px}
      .brand{ text-align:center }
      .brand h1{font-size:20px}
      .brand p{font-size:14px}
      .hero h2{font-size:20px}
      .hero p{font-size:14px}
      #chat{height:60vh}
    }
  </style>
</head>
<body>
  <!-- HEADER -->
  <header class="header">
    <div class="container header-inner">
      <img src="logo_pcge.png" alt="Logo PCGE" class="logo">
      <div class="brand">
        <h1>Programa Ciência e Gestão pela Educação</h1>
        <p>Assistente <strong>“ChatGPT – PCGE”</strong></p>
      </div>
    </div>
  </header>

  <main class="container">
    <section class="hero">
      <h2>Bem-vindo ao ChatGPT – PCGE</h2>
      <p>Tire suas dúvidas em linguagem simples. Escreva sua pergunta e clique em Enviar.</p>
    </section>

    <section class="card">
      <div id="chat"></div>
      <div id="typing" class="typing">digitando…</div>
      <div class="inputbar">
        <input id="msg" type="text" placeholder="Digite sua pergunta..." />
        <button id="send">Enviar</button>
      </div>
    </section>
  </main>

  <footer>
    © PCGE • Assistente experimental. Para decisões oficiais, consulte os documentos do Programa.
  </footer>

  <script>
    const API_URL = "https://chatgpt-pcge.onrender.com/api/chat";

    const chat = document.getElementById("chat");
    const msg  = document.getElementById("msg");
    const btn  = document.getElementById("send");
    const typing = document.getElementById("typing");

    function add(text, who){
      const b = document.createElement("div");
      b.className = "message " + who;
      b.textContent = text;
      chat.appendChild(b);
      chat.scrollTop = chat.scrollHeight;
    }

    async function send(){
      const text = msg.value.trim();
      if(!text) return;
      add(text, "user");
      msg.value = "";

      typing.style.display = "block";
      try{
        const r = await fetch(API_URL, {
          method:"POST",
          headers:{"Content-Type":"application/json"},
          body: JSON.stringify({ message:text })
        });
        const data = await r.json();
        add(data.reply || "(sem resposta)", "bot");
      }catch(e){
        add("Erro de conexão com o servidor.", "bot");
      }finally{
        typing.style.display = "none";
      }
    }

    btn.onclick = send;
    msg.addEventListener("keydown", e => { if(e.key==="Enter") send(); });

    add("Olá! Sou o ChatGPT–PCGE. Estou aqui para ajudá-lo(a). Faça sua pergunta quando quiser.", "bot");
  </script>
</body>
</html>




